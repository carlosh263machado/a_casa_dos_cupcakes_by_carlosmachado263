<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Casa dos Cupcakes</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Satisfy&display=swap" rel="stylesheet">
</head>
<body>

    <header>
        <div class="header-content">
            <h1>A Casa dos Cupcakes</h1>
            <nav id="auth-links">
                <button id="login-btn" class="auth-btn">Login</button>
                <button id="signup-btn" class="auth-btn secondary">Cadastre-se</button>
            </nav>
            <div id="user-info" style="display: none;">
                <span>Bem-vindo(a), <span id="user-name"></span>!</span>
                <button id="logout-btn" class="auth-btn secondary">Sair</button>
            </div>
        </div>
    </header>

    <main>
        <!-- Seção para exibir os produtos (cupcakes) -->
        <section id="products-section">
            <h2>Nossos Sabores</h2>
            <div id="cupcake-list" class="product-grid">
                <!-- Os cupcakes serão inseridos aqui via JavaScript -->
            </div>
        </section>

        <!-- Seção para o carrinho de compras -->
        <section id="cart-section">
            <h2>Seu Carrinho</h2>
            <div id="cart-items">
                <p>Seu carrinho está vazio.</p>
            </div>
            <div class="cart-summary">
                <p>Subtotal: <span id="cart-subtotal">R$ 0.00</span></p>
                <button id="checkout-btn" disabled>Finalizar Compra</button>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 A Casa dos Cupcakes. Todos os direitos reservados.</p>
    </footer>

    <!-- Modal de Checkout -->
    <div id="checkout-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <button class="close-modal-btn">&times;</button>
            <h2>Finalizar Compra</h2>

            <!-- Passo 1: Método de Entrega -->
            <fieldset>
                <legend>1. Método de Entrega</legend>
                <div class="radio-group">
                    <input type="radio" id="pickup" name="delivery" value="pickup" checked>
                    <label for="pickup">Retirar no local (Sem custo)</label>
                </div>
                <div class="radio-group">
                    <input type="radio" id="delivery" name="delivery" value="delivery">
                    <label for="delivery">Entrega (Taxa de R$ 7,00)</label>
                </div>
                <!-- Campos de endereço para entrega -->
                <div id="delivery-address-form" style="display: none;">
                    <p class="address-title">Endereço de Entrega:</p>
                    <input type="text" id="cep" placeholder="CEP" required>
                    <input type="text" id="street" placeholder="Rua / Avenida" required>
                    <div class="address-line">
                        <input type="text" id="number" placeholder="Número" required>
                        <input type="text" id="complement" placeholder="Complemento (Opcional)">
                    </div>
                    <input type="text" id="neighborhood" placeholder="Bairro" required>
                    <input type="text" id="city" placeholder="Cidade" required>
                    <input type="text" id="state" placeholder="Estado" required>
                </div>
            </fieldset>

            <!-- Passo 2: Método de Pagamento -->
            <fieldset>
                <legend>2. Método de Pagamento</legend>
                 <div class="radio-group">
                    <input type="radio" id="cash" name="payment" value="cash" checked>
                    <label for="cash">Dinheiro</label>
                </div>
                 <div class="radio-group">
                    <input type="radio" id="pix" name="payment" value="pix">
                    <label for="pix">Pix</label>
                </div>
                 <div class="radio-group">
                    <input type="radio" id="credit" name="payment" value="credit">
                    <label for="credit">Cartão de Crédito</label>
                </div>
                 <div class="radio-group">
                    <input type="radio" id="debit" name="payment" value="debit">
                    <label for="debit">Cartão de Débito</label>
                </div>
            </fieldset>

            <!-- Detalhes do Pagamento (serão exibidos conforme a seleção) -->
            <div id="payment-details">
                <div id="cash-details" class="payment-method-details">
                    <label for="change_for">Precisa de troco para quanto?</label>
                    <input type="number" id="change_for" placeholder="Ex: 50.00">
                </div>
                <div id="pix-details" class="payment-method-details" style="display: none;">
                    <p>Escaneie o QR Code para pagar:</p>
                    <img src="qrcode.png" alt="QR Code para pagamento Pix" width="150">
                    <p>Ou use a chave Pix (Copia e Cola):</p>
                    <input type="text" value="b8a3c1f2-e4d5-4f6a-8b9c-0d1e2f3a4b5c" readonly>
                </div>
                <div id="credit-details" class="payment-method-details" style="display: none;">
                    <input type="text" placeholder="Número do Cartão" required>
                    <input type="text" placeholder="Nome no Cartão" required>
                    <div class="card-info">
                        <input type="text" placeholder="Validade (MM/AA)" required>
                        <input type="text" placeholder="CVV" required>
                    </div>
                </div>
                <div id="debit-details" class="payment-method-details" style="display: none;">
                    <input type="text" placeholder="Número do Cartão" required>
                    <input type="text" placeholder="Nome no Cartão" required>
                     <div class="card-info">
                        <input type="text" placeholder="Validade (MM/AA)" required>
                        <input type="text" placeholder="CVV" required>
                    </div>
                </div>
            </div>

            <!-- Resumo Final -->
            <div class="final-summary">
                <p>Subtotal: <span id="summary-subtotal">R$ 0.00</span></p>
                <p>Taxa de Entrega: <span id="summary-delivery-fee">R$ 0.00</span></p>
                <h3>Total a Pagar: <span id="summary-total">R$ 0.00</span></h3>
            </div>
            
            <button id="confirm-purchase-btn">Confirmar Pedido</button>
        </div>
    </div>

    <!-- Modal de Login -->
    <div id="login-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <button class="close-modal-btn">&times;</button>
            <h2>Login</h2>
            <form id="login-form">
                <input type="email" placeholder="Seu E-mail" required>
                <input type="password" placeholder="Sua Senha" required>
                <button type="submit" class="form-btn">Entrar</button>
                <p class="form-link-p">Esqueceu sua senha? <a href="#" id="forgot-password-link">Recuperar</a></p>
                <p class="form-link-p">Não tem uma conta? <a href="#" id="switch-to-signup-link">Cadastre-se</a></p>
            </form>
        </div>
    </div>

    <!-- Modal de Cadastro -->
    <div id="signup-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <button class="close-modal-btn">&times;</button>
            <h2>Cadastro</h2>
            <form id="signup-form">
                <input type="text" placeholder="Seu Nome Completo" required>
                <input type="email" placeholder="Seu E-mail" required>
                <input type="password" placeholder="Crie uma Senha" required>
                <input type="password" placeholder="Confirme sua Senha" required>
                <button type="submit" class="form-btn">Criar Conta</button>
                <p class="form-link-p">Já tem uma conta? <a href="#" id="switch-to-login-link">Faça Login</a></p>
            </form>
        </div>
    </div>

    <!-- Modal de Recuperação de Senha -->
    <div id="recovery-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <button class="close-modal-btn">&times;</button>
            <h2>Recuperar Senha</h2>
            <form id="recovery-form">
                <p>Insira seu e-mail para enviarmos um link de recuperação.</p>
                <input type="email" placeholder="Seu E-mail" required>
                <button type="submit" class="form-btn">Enviar</button>
            </form>
        </div>
    </div>

    <script type="importmap">
    {
        "imports": {
            "canvas-confetti": "https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/+esm"
        }
    }
    </script>
    <script type="module" src="script.js"></script>
</body>
</html>